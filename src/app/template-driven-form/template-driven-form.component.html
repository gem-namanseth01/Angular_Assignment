<div class="container">
  <div class="row">
    <h1 class="text-center text-decoration-underline mt-3">
      <b>Registration form</b>
    </h1>
  </div>
  <div class="row mt-4">
    <div class="card bg-light col-sm-11 ms-5 mb-4">
      <form #userDetail="ngForm" (ngSubmit)="onSubmit(userDetail.value)">
        <div class="mb-3 mt-5">
          <label for="name" class="form-label">Name</label>
          <input
            required
            type="text"
            #name="ngModel"
            class="form-control"
            [ngClass]="name.invalid && name.touched ? 'is-invalid' : ''"
            id="name"
            [(ngModel)]="userModel.name"
            name="name"
          />
          <div *ngIf="name.invalid && name.touched" class="invalid-feedback">
            Please Enter valid Name
          </div>
        </div>
        <div class="mb-3">
          <label for="college" class="form-label">College</label>
          <input
            required
            type="text"
            #college="ngModel"
            class="form-control"
            [ngClass]="college.invalid && college.touched ? 'is-invalid' : ''"
            id="email"
            [(ngModel)]="userModel.college"
            name="college"
          />
          <div
            *ngIf="college.invalid && college.touched"
            class="invalid-feedback"
          >
            Please Enter valid College
          </div>
        </div>
        <div class="mb-3">
          <label for="cgpa" class="form-label">CGPA</label>
          <input
            required
            type="number"
            #cgpa="ngModel"
            step="0.1"
            class="form-control"
            [ngClass]="
              (cgpa.invalid && cgpa.touched) ||
              !(userModel.cgpa >= 0 && userModel.cgpa < 10)
                ? 'is-invalid'
                : ''
            "
            id="cgpa"
            [(ngModel)]="userModel.cgpa"
            name="cgpa"
          />
          <div *ngIf="cgpa.invalid && cgpa.touched" class="invalid-feedback">
            Please Enter valid CGPA
          </div>
          <div
            *ngIf="userModel.cgpa < 0 || userModel.cgpa > 10"
            class="invalid-feedback"
          >
            CGPA must be greater then zero and smaller then 10
          </div>
        </div>
        <div class="mb-3">
          <label for="yearOfPassing" class="form-label">Year Of Passing</label>
          <input
            required
            type="month"
            #yearOfPassing="ngModel"
            class="form-control"
            [ngClass]="
              yearOfPassing.invalid && yearOfPassing.touched ? 'is-invalid' : ''
            "
            id="yearOfPassing"
            [(ngModel)]="userModel.yearOfPassing"
            name="yearOfPassing"
          />
          <div
            *ngIf="yearOfPassing.invalid && yearOfPassing.touched"
            class="invalid-feedback"
          >
            Please Enter valid Year Of Passing
          </div>
        </div>
        <div class="mb-3">
          <label for="dateOfEnrollment" class="form-label"
            >Date of Enrollment</label
          >
          <input
            required
            type="date"
            #dateOfEnrollment="ngModel"
            class="form-control"
            [ngClass]="
              dateOfEnrollment.invalid && dateOfEnrollment.touched
                ? 'is-invalid'
                : ''
            "
            id="dateOfEnrollment"
            [(ngModel)]="userModel.dateOfEnrollment"
            name="dateOfEnrollment"
          />
          <div
            *ngIf="dateOfEnrollment.invalid && dateOfEnrollment.touched"
            class="invalid-feedback"
          >
            Please Enter valid Date of Joining
          </div>
        </div>
        <div class="mb-3">
          <label for="skills" class="form-label"
            >Skills (Please specify multiple skills with comma sepreted)</label
          >
          <input
            required
            type="text"
            #skills="ngModel"
            class="form-control"
            id=" dateOfEnrollment"
            [ngClass]="skills.invalid && skills.touched ? 'is-invalid' : ''"
            [(ngModel)]="userModel.skill"
            name="skill"
          />
          <div
            *ngIf="skills.invalid && skills.touched"
            class="invalid-feedback"
          >
            Please Enter valid Skills
          </div>
        </div>
        <div class="mb-3">
          <label for="resume" class="form-label">Upload resume</label>
          <input
            required
            type="file"
            accept="application/pdf"
            #resume="ngModel"
            class="form-control"
            id="resume"
            [ngClass]="resume.invalid && resume.touched ? 'is-invalid' : ''"
            [(ngModel)]="userModel.resume"
            name="resume"
          />
          <div
            *ngIf="resume.invalid && resume.touched"
            class="invalid-feedback"
          >
            Please upload valid resume
          </div>
        </div>
        <div class="text-center container">
          <button
            type="submit"
            *ngIf="
              name.valid &&
              college.valid &&
              cgpa.valid &&
              yearOfPassing.valid &&
              dateOfEnrollment.valid &&
              skills.valid &&
              resume.valid &&
              userModel.cgpa >= 0 &&
              userModel.cgpa < 10
            "
            class="btn btn-primary me-5 mb-3"
          >
            Submit
          </button>
          <button type="reset" class="btn btn-danger mb-3">Reset</button>
        </div>
      </form>
    </div>
    <hr />
    <h1 class="text-center text-decoration-underline mt-3">
      <b>Table</b>
    </h1>
    <div class="col-sm-11 ms-5 mt-4">
      <table class="table table-striped table-info table-hover">
        <thead>
          <tr>
            <th>SNo.</th>
            <th>Name</th>
            <th>College</th>
            <th>CGPA</th>
            <th>Year Of Passing</th>
            <th>Date Of Enrollment</th>
            <th>Skills</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let unit of inputs; index as idx">
            <th scope="row">{{ idx + 1 }}.</th>
            <td scope="row">{{ unit.name }}</td>
            <td scope="row">{{ unit.college }}</td>
            <td scope="row">{{ unit.cgpa }}</td>
            <td scope="row">{{ unit.yearOfPassing | date }}</td>
            <td scope="row">{{ unit.dateOfEnrollment | date }}</td>
            <td scope="row">{{ unit.skill }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
